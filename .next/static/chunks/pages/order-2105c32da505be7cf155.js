(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{10933:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return j}});var r=t(85893),i=t(6610),a=t(5991),o=t(63349),s=t(65255),u=t(86089),c=t(77608),l=t(96156),d=t(87757),p=t.n(d),f=t(92137),y=t(72692),h=t(67294),m=t(12148),b=t(3283),x=t.n(b);function v(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=(0,c.Z)(n);if(e){var i=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}var g=new(x())(x().givenProvider),T="0xdB30697a0ED2bb87e1717f4401731700edbA681F",w=function(){var n=(0,f.Z)(p().mark((function n(e){var t,r,i,a,o;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.ethereum.enable();case 2:return t=n.sent,r=t[0],i=new g.eth.Contract(m.p,T,{from:r}),n.next=7,i.methods.getShares().call();case 7:return a=n.sent,n.next=10,i.methods.orders(e).call();case 10:return o=n.sent,n.abrupt("return",{shares:a,order:o});case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j=function(n){(0,s.Z)(t,n);var e=v(t);function t(){var n;(0,i.Z)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a)),(0,l.Z)((0,o.Z)(n),"fillOrder",(0,f.Z)(p().mark((function e(){var t,r,i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.id,r=n.state.order,console.log(r),e.next=5,window.ethereum.enable();case 5:if(i=e.sent,a=i[0],o=new g.eth.Contract(m.p,T,{from:a}),console.log(r.orderType),"0"!==r.orderType){e.next=15;break}return console.log("trade buy"),e.next=13,o.methods.TradeBuy(t).send();case 13:e.next=19;break;case 15:if("1"!==r.orderType){e.next=19;break}return console.log("radi"),e.next=19,o.methods.TradeSell(t).send({from:a,value:r.price});case 19:case"end":return e.stop()}}),e)})))),n}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var n=this,e=this.props.id;w(e).then((function(e){n.setState({order:e.order,shares:e.shares})}))}},{key:"render",value:function(){var n=this.state,e=n.order;n.shares;return(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Z,{balance:0,backgroundColor:"white",color:"#21325b"}),(0,r.jsxs)("div",{className:"order-window",children:[(0,r.jsxs)("h2",{children:[e.price*Math.pow(10,-18),"ETH"]}),(0,r.jsxs)("h3",{children:["Type: ","1"==e.orderType?"Buy":"Sell"]}),(0,r.jsxs)("h2",{children:["Ammount: ",e.amount]}),(0,r.jsxs)("h4",{children:["Order Creator: ",e.from]}),(0,r.jsx)("button",{onClick:this.fillOrder,children:"Fill in the order"})]})]})}}],[{key:"getInitialProps",value:function(){var n=(0,f.Z)(p().mark((function n(e){var t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.req,e.res,t=e.query,console.log(t.id),n.abrupt("return",{id:t.id});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}]),t}(h.Component)},72692:function(n,e,t){"use strict";var r=t(85893),i=t(67294);e.Z=function(n){var e=n.backgroundColor,t=n.color,a=n.balance,o=(0,i.useState)(!1),s=o[0],u=o[1],c=function(){u((function(n){return!n}))};return(0,r.jsxs)("div",{className:"nav",children:[(0,r.jsxs)("ul",{className:"navigation-bar",children:[(0,r.jsx)("h1",{children:"Stock Trader"}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/get-started",children:"Get Started"})}),(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:"/donate",children:[a," Shares"]})}),(0,r.jsx)("li",{className:"special",children:(0,r.jsx)("a",{href:"/about-us",children:"About us"})})]}),(0,r.jsxs)("div",{className:"navigation-bar-mobile",children:[(0,r.jsx)("div",{onClick:c,className:"navigation-toggle"}),(0,r.jsx)("h1",{children:"Stock Trader"}),s&&(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/get-started",children:"Get Started"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/donate",children:"Donate"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/about-us",children:"About us"})}),(0,r.jsx)("li",{className:"exit-button",children:(0,r.jsx)("a",{onClick:c,children:"X"})})]})]}),(0,r.jsx)("style",{children:"\n                div {\n                    background-color green;\n                }\n                .navigation-bar {\n                    color: ".concat(t||"white",";\n                    margin: 0;\n                    display: flex;\n                    align-items: center;\n                        background-color: ").concat(e||"#141414",";\n                    }\n                    .navigation-bar > li {\n                        list-style-type: none; }\n                        .navigation-bar > li > a {\n                        display: block;\n                        padding: 1em;\n                        color: ").concat(t||"white",';\n                        text-decoration: none; }\n                        .navigation-bar > li > a:hover {\n                            color: #a61f27; }\n                    .navigation-bar > .special {\n                        margin-left: auto; }\n                    @media (max-width: 450px) {\n                        .navigation-bar {\n                        display: none; } }\n\n                    .navigation-bar-mobile {\n                    display: none; }\n                    @media (max-width: 450px) {\n                        .navigation-bar-mobile {\n                        display: flex; \n                        align-items: center;\n                    } }\n                    .navigation-bar-mobile > .navigation-toggle {\n                        width: fit-content;\n                        height: 50px; }\n                        .navigation-bar-mobile > .navigation-toggle::after {\n                        position: absolute;\n                        right: .5em;\n                        display: block;\n                        color: black;\n                        content: "\\2261";\n                        font-size: 2.7rem; }\n\n                    @keyframes move-in {\n                    0% {\n                        transform: translateY(-200px); }\n                    100% {\n                        transform: translateY(0px); } }\n            ')})]})}},12148:function(n,e,t){"use strict";t.d(e,{p:function(){return r}});var r=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"address",name:"from",type:"address"}],name:"OrderPlaced",type:"event"},{inputs:[],name:"TAX_FEE_DENOMINATOR",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"TAX_FEE_NUMERATOR",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"orders",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"enum Market.OrderType",name:"orderType",type:"uint8"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"}],name:"shares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"getShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"price",type:"uint256"}],name:"OrderBuy",outputs:[],stateMutability:"payable",type:"function",payable:!0},{inputs:[{internalType:"uint256",name:"tradeId",type:"uint256"}],name:"TradeBuy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"OrderSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"orderId",type:"uint256"}],name:"TradeSell",outputs:[],stateMutability:"payable",type:"function",payable:!0}]},26826:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return t(10933)}])},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},27790:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},6567:function(){},43503:function(){},55896:function(){},87500:function(){}},function(n){n.O(0,[54,774,888,179],(function(){return e=26826,n(n.s=e);var e}));var e=n.O();_N_E=e}]);